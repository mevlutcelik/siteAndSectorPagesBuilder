function addReferances(){let e=document.querySelector("#referances"),t=document.querySelector('input[name="referance-input-num"]'),r=e.childElementCount/2;++r,t.value=r;let n=document.createElement("input");n.type="text",n.name=`referance-name-${r}`,n.id=`referance-name-${r}`,n.placeholder=`${r}. Referans adı`,n.style.marginBottom="0.5rem";let l=document.createElement("input");l.type="text",l.name=`referance-link-${r}`,l.id=`referance-link-${r}`,l.placeholder=`${r}. Referans linki`,l.style.marginBottom="2rem",e.append(n),e.append(l)}function addVariable(e,t){let r=document.querySelector(`#${e}`);r.value=document.querySelector(`#${e}`).value+t,controleInput(r)}function pushErr(e){void 0===errInput.find(t=>t.id===e.getAttribute("id"))&&errInput.push({id:e.getAttribute("id")})}function deleteErr(e){void 0!==errInput.find(t=>t.id===e.getAttribute("id"))&&errInput.splice(errInput.findIndex(t=>t.id===e.getAttribute("id")),1)}function msg(e,t,r="error"){let n=t.parentElement;if(null===n.querySelector('label[message="true"]')){let l=document.createElement("label");l.setAttribute("for",t.getAttribute("id")),l.setAttribute("message","true"),l.classList.add("message",r),l.innerHTML=e,n.appendChild(l)}else n.querySelector('label[message="true"]').innerHTML=e;t.classList.add("invalid"),pushErr(t)}function removeMsg(e){null!==e.parentElement.querySelector('label[message="true"]')&&(e.parentElement.querySelector('label[message="true"]').innerHTML=null),e.classList.remove("invalid"),deleteErr(e)}function controleInput(e,t=!0){if(""===e.getAttribute("required")){if("true"===e.getAttribute("controle-char")){let r=e.getAttribute("id"),n=-1!==r.indexOf("title")?60:140,l=-1!==r.indexOf("home")?"{siteName}":"{sectorName}",i=n-e.value.trim().length;document.querySelector(`#${r}-char`).innerHTML=i,0!==e.value.trim().length?e.value.trim().length>n?msg("Lütfen karakter limitini geçmeyin!",e):-1===e.value.trim().indexOf(l)?msg("Lütfen zorunlu değişkeni kullanın!",e):removeMsg(e):t&&msg("Lütfen boş bırakmayın!",e)}else if(0!==e.value.trim().length){if("text"===e.type)0===e.value.trim().length?msg("Lütfen boş bırakmayın!",e):removeMsg(e);else if("tel"===e.type)if(0===e.value.length)msg("Lütfen boş bırakmayın!",e);else{let t=e.value.trim().match(/[a-zA-Z-_]/gi);null!==t||10!==e.value.trim().length?msg("Lütfen doğru bir telefon giriniz!",e):removeMsg(e)}}else"file"!==e.type&&t&&msg("Lütfen boş bırakmayın!",e);t||"file"!==e.type&&pushErr(e),0===errInput.length?document.querySelector("form").querySelector("button").removeAttribute("disabled"):document.querySelector("form").querySelector("button").setAttribute("disabled","true")}}let errInput=[];window.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("input");e.forEach(e=>{controleInput(e,!1),e.addEventListener("keyup",function(){controleInput(e)})})});